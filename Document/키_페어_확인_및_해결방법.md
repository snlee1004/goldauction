# AWS EC2 í‚¤ í˜ì–´ í™•ì¸ ë° í•´ê²° ë°©ë²•

## ğŸ”‘ í‚¤ í˜ì–´ ê¸°ë³¸ ê°œë…

### í‚¤ í˜ì–´ ì‘ë™ ë°©ì‹
- **í‚¤ í˜ì–´ëŠ” ì¸ìŠ¤í„´ìŠ¤ ìƒì„± ì‹œ ì„ íƒ**ë©ë‹ˆë‹¤
- **ì¸ìŠ¤í„´ìŠ¤ ìƒì„± í›„ì—ëŠ” ë³€ê²½í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤**
- ê°™ì€ í‚¤ í˜ì–´ë¥¼ ì—¬ëŸ¬ ì¸ìŠ¤í„´ìŠ¤ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤
- í•˜ì§€ë§Œ ê° ì¸ìŠ¤í„´ìŠ¤ëŠ” ìƒì„± ì‹œ ì„ íƒí•œ í‚¤ í˜ì–´ì™€ ì—°ê²°ë©ë‹ˆë‹¤

## âœ… í˜„ì¬ ìƒí™© í™•ì¸

### 1. ì¸ìŠ¤í„´ìŠ¤ì˜ í‚¤ í˜ì–´ í™•ì¸

**AWS Consoleì—ì„œ í™•ì¸:**
1. AWS Console â†’ **EC2** â†’ **Instances**
2. `goldauction-server` (i-0a09eddc30b23e255) ì„ íƒ
3. **Details** íƒ­ í´ë¦­
4. **Key pair name** í•„ë“œ í™•ì¸

**í™•ì¸ ê²°ê³¼:**
- Key pair nameì´ `dteam` ë˜ëŠ” `dteam-key` â†’ âœ… **ê¸°ì¡´ í‚¤ ì‚¬ìš© ê°€ëŠ¥**
- Key pair nameì´ ë‹¤ë¥¸ ì´ë¦„ â†’ âŒ **ê¸°ì¡´ í‚¤ ì‚¬ìš© ë¶ˆê°€ëŠ¥**

### 2. í‚¤ íŒŒì¼ í™•ì¸

```powershell
# í‚¤ íŒŒì¼ ì¡´ì¬ í™•ì¸
Test-Path C:\Users\elosy\Downloads\dteam.pem

# í‚¤ íŒŒì¼ ë‚´ìš© í™•ì¸ (ì²˜ìŒ ëª‡ ì¤„)
Get-Content C:\Users\elosy\Downloads\dteam.pem -Head 3

# ì˜¬ë°”ë¥¸ í˜•ì‹:
# -----BEGIN RSA PRIVATE KEY-----
# ë˜ëŠ”
# -----BEGIN PRIVATE KEY-----
```

## ğŸ”§ í•´ê²° ë°©ë²•

### ë°©ë²• 1: AWS Consoleì—ì„œ í‚¤ í˜ì–´ í™•ì¸ í›„ ì ‘ì† (ê°€ì¥ ë¹ ë¦„)

**1ë‹¨ê³„: í‚¤ í˜ì–´ ì´ë¦„ í™•ì¸**
- ìœ„ì˜ ë°©ë²•ìœ¼ë¡œ Key pair name í™•ì¸

**2ë‹¨ê³„: í‚¤ í˜ì–´ ì´ë¦„ì´ `dteam`ì¸ ê²½ìš°**
```powershell
# ê¸°ì¡´ í‚¤ë¡œ ì ‘ì† ì‹œë„
cd C:\Users\elosy\Downloads
ssh -i dteam.pem jadelee@3.38.207.91
```

**3ë‹¨ê³„: í‚¤ í˜ì–´ ì´ë¦„ì´ ë‹¤ë¥¸ ê²½ìš°**
- ì•„ë˜ ë°©ë²• 2 ë˜ëŠ” 3 ì‚¬ìš©

---

### ë°©ë²• 2: EC2 Instance Connect ì‚¬ìš© (í‚¤ ì—†ì´ ì ‘ì†)

**ì¥ì :** í‚¤ íŒŒì¼ ì—†ì´ ë¸Œë¼ìš°ì €ì—ì„œ ë°”ë¡œ ì ‘ì† ê°€ëŠ¥

**1ë‹¨ê³„: EC2 Instance Connect í™œì„±í™”**
1. AWS Console â†’ EC2 â†’ Instances
2. `goldauction-server` ì„ íƒ
3. **Connect** ë²„íŠ¼ í´ë¦­
4. **EC2 Instance Connect** íƒ­ ì„ íƒ
5. **Connect** í´ë¦­
6. ë¸Œë¼ìš°ì €ì—ì„œ í„°ë¯¸ë„ ì—´ë¦¼

**2ë‹¨ê³„: ìƒˆ í‚¤ ì¶”ê°€ (ì„ íƒì‚¬í•­)**
```bash
# EC2 Instance Connect í„°ë¯¸ë„ì—ì„œ
mkdir -p ~/.ssh
chmod 700 ~/.ssh

# ìƒˆ ê³µê°œí‚¤ ì¶”ê°€ (ë¡œì»¬ì—ì„œ ìƒì„±í•œ ê³µê°œí‚¤)
nano ~/.ssh/authorized_keys
# ê³µê°œí‚¤ ë‚´ìš© ë¶™ì—¬ë„£ê¸°
chmod 600 ~/.ssh/authorized_keys
```

**3ë‹¨ê³„: ë¡œì»¬ì—ì„œ ìƒˆ í‚¤ ìƒì„±**
```powershell
# PowerShellì—ì„œ
ssh-keygen -t rsa -b 4096 -f C:\Users\elosy\.ssh\goldauction-key

# ê³µê°œí‚¤ ë‚´ìš© í™•ì¸
Get-Content C:\Users\elosy\.ssh\goldauction-key.pub
```

**4ë‹¨ê³„: ê³µê°œí‚¤ë¥¼ EC2ì— ì¶”ê°€**
- EC2 Instance Connect í„°ë¯¸ë„ì—ì„œ ìœ„ì˜ ê³µê°œí‚¤ ë‚´ìš©ì„ `~/.ssh/authorized_keys`ì— ì¶”ê°€

**5ë‹¨ê³„: ìƒˆ í‚¤ë¡œ ì ‘ì†**
```powershell
ssh -i C:\Users\elosy\.ssh\goldauction-key jadelee@3.38.207.91
```

---

### ë°©ë²• 3: ìƒˆ í‚¤ í˜ì–´ ìƒì„± ë° ì¸ìŠ¤í„´ìŠ¤ ì¬ìƒì„±

**1ë‹¨ê³„: ìƒˆ í‚¤ í˜ì–´ ìƒì„±**
1. AWS Console â†’ EC2 â†’ **Key Pairs** â†’ **Create key pair**
2. ì„¤ì •:
   - **Name**: `goldauction-key`
   - **Key pair type**: RSA
   - **Private key file format**: `.pem`
3. **Create key pair** í´ë¦­
4. ìë™ìœ¼ë¡œ `goldauction-key.pem` ë‹¤ìš´ë¡œë“œë¨
5. ì•ˆì „í•œ ê³³ì— ë³´ê´€ (ë‹¤ì‹œ ë‹¤ìš´ë¡œë“œ ë¶ˆê°€ëŠ¥!)

**2ë‹¨ê³„: ìƒˆ ì¸ìŠ¤í„´ìŠ¤ ìƒì„± (ì„ íƒì‚¬í•­)**
- í˜„ì¬ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìœ ì§€í•˜ê³  ì‹¶ë‹¤ë©´ ë°©ë²• 2 ì‚¬ìš©
- ìƒˆ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•œë‹¤ë©´ ìƒˆ í‚¤ í˜ì–´ ì„ íƒ

**3ë‹¨ê³„: ìƒˆ í‚¤ë¡œ ì ‘ì†**
```powershell
cd C:\Users\elosy\Downloads
ssh -i goldauction-key.pem jadelee@3.38.207.91
```

---

### ë°©ë²• 4: Systems Manager Session Manager ì‚¬ìš©

**ì¥ì :** í‚¤ íŒŒì¼ ì—†ì´ ì ‘ì†, SSH í¬íŠ¸ ë¶ˆí•„ìš”

**1ë‹¨ê³„: SSM Agent í™•ì¸**
- Ubuntu 22.04ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ SSM Agentê°€ ì„¤ì¹˜ë˜ì–´ ìˆìŒ

**2ë‹¨ê³„: IAM ì—­í•  ì„¤ì •**
1. EC2 â†’ Instances â†’ `goldauction-server` ì„ íƒ
2. **Actions** â†’ **Security** â†’ **Modify IAM role**
3. IAM ì—­í• ì— ë‹¤ìŒ ì •ì±… ì¶”ê°€:
   - `AmazonSSMManagedInstanceCore`

**3ë‹¨ê³„: Session Managerë¡œ ì ‘ì†**
1. AWS Console â†’ **Systems Manager** â†’ **Session Manager**
2. **Start session** í´ë¦­
3. `goldauction-server` ì„ íƒ
4. **Start session** í´ë¦­
5. ë¸Œë¼ìš°ì €ì—ì„œ í„°ë¯¸ë„ ì—´ë¦¼

---

## ğŸ” ë¬¸ì œ ì§„ë‹¨

### í˜„ì¬ í‚¤ê°€ ì‘ë™í•˜ëŠ”ì§€ í™•ì¸

**1ë‹¨ê³„: í‚¤ í˜ì–´ ì´ë¦„ í™•ì¸**
```bash
# AWS CLI ì‚¬ìš© (ì„¤ì¹˜ë˜ì–´ ìˆë‹¤ë©´)
aws ec2 describe-instances \
  --instance-ids i-0a09eddc30b23e255 \
  --query 'Reservations[0].Instances[0].KeyName' \
  --output text
```

**2ë‹¨ê³„: í‚¤ íŒŒì¼ í˜•ì‹ í™•ì¸**
```powershell
# PowerShellì—ì„œ
$keyContent = Get-Content C:\Users\elosy\Downloads\dteam.pem -Raw

# RSA í‚¤ì¸ì§€ í™•ì¸
if ($keyContent -match "BEGIN RSA PRIVATE KEY") {
    Write-Host "âœ… RSA í‚¤ í˜•ì‹"
} elseif ($keyContent -match "BEGIN PRIVATE KEY") {
    Write-Host "âœ… PKCS#8 í‚¤ í˜•ì‹"
} elseif ($keyContent -match "BEGIN OPENSSH PRIVATE KEY") {
    Write-Host "âœ… OpenSSH í‚¤ í˜•ì‹"
} else {
    Write-Host "âŒ ì•Œ ìˆ˜ ì—†ëŠ” í‚¤ í˜•ì‹"
}
```

**3ë‹¨ê³„: ìƒì„¸ ë””ë²„ê·¸ë¡œ í™•ì¸**
```powershell
# ìƒì„¸ ë¡œê·¸ë¡œ ì ‘ì† ì‹œë„
ssh -vv -i "C:\Users\elosy\Downloads\dteam.pem" jadelee@3.38.207.91

# ë¡œê·¸ì—ì„œ í™•ì¸í•  ë‚´ìš©:
# - "Offering public key" ë©”ì‹œì§€ í™•ì¸
# - "Server accepts key" ë©”ì‹œì§€ í™•ì¸
# - "Permission denied" ì „ì— ì–´ë–¤ í‚¤ë¥¼ ì‹œë„í–ˆëŠ”ì§€ í™•ì¸
```

---

## âœ… ê¶Œì¥ í•´ê²° ìˆœì„œ

1. **ë¨¼ì € í™•ì¸**: AWS Consoleì—ì„œ Key pair name í™•ì¸
2. **Key pair nameì´ `dteam`ì¸ ê²½ìš°**:
   - Git Bashì—ì„œ `chmod 400` í›„ ì ‘ì† ì‹œë„
   - ì—¬ì „íˆ ì•ˆ ë˜ë©´ ë°©ë²• 2 (EC2 Instance Connect) ì‚¬ìš©
3. **Key pair nameì´ ë‹¤ë¥¸ ê²½ìš°**:
   - ë°©ë²• 2 (EC2 Instance Connect)ë¡œ ì ‘ì† í›„ ìƒˆ í‚¤ ì¶”ê°€
   - ë˜ëŠ” ë°©ë²• 3 (ìƒˆ í‚¤ í˜ì–´ ìƒì„±)

---

## ğŸ“ ì²´í¬ë¦¬ìŠ¤íŠ¸

- [ ] AWS Consoleì—ì„œ Key pair name í™•ì¸
- [ ] í‚¤ íŒŒì¼ì´ ì˜¬ë°”ë¥¸ ìœ„ì¹˜ì— ìˆëŠ”ì§€ í™•ì¸
- [ ] í‚¤ íŒŒì¼ ê¶Œí•œ ì„¤ì • (Git Bashì—ì„œ chmod 400)
- [ ] ì˜¬ë°”ë¥¸ ì‚¬ìš©ìëª… ì‚¬ìš© (jadelee)
- [ ] Security Groupì—ì„œ SSH (22) í¬íŠ¸ í—ˆìš© í™•ì¸
- [ ] ì¸ìŠ¤í„´ìŠ¤ê°€ running ìƒíƒœì¸ì§€ í™•ì¸

---

## ğŸ’¡ íŒ

**í‚¤ í˜ì–´ ê´€ë¦¬ ëª¨ë²” ì‚¬ë¡€:**
1. ê° í”„ë¡œì íŠ¸ë§ˆë‹¤ ë³„ë„ì˜ í‚¤ í˜ì–´ ì‚¬ìš©
2. í‚¤ íŒŒì¼ì€ ì•ˆì „í•œ ê³³ì— ë³´ê´€ (ë¹„ë°€ë²ˆí˜¸ ê´€ë¦¬ì ë“±)
3. í‚¤ íŒŒì¼ì€ ì ˆëŒ€ ê³µìœ í•˜ì§€ ì•Šê¸°
4. ì •ê¸°ì ìœ¼ë¡œ í‚¤ ë¡œí…Œì´ì…˜ (ìƒˆ í‚¤ ìƒì„± í›„ êµì²´)

