@startuml 시퀀스_다이어그램_경매_입찰
!theme plain
skinparam defaultFontName "Malgun Gothic"
skinparam sequenceMessageAlign center
skinparam sequenceArrowThickness 2

actor 사용자 as User
participant "Frontend\n(React)" as Frontend
participant "Controller" as Controller
participant "Service" as Service
participant "Oracle DB" as DB

== 경매 상품 등록 ==
User -> Frontend: 상품 등록 요청
Frontend -> Frontend: 입력 검증
Frontend -> Controller: POST /imageboard/imageboardWrite
Controller -> Service: imageboardWrite()
Service -> Service: 경매 종료일 계산
Service -> DB: INSERT 경매 상품
Service -> DB: INSERT 이미지 (다중)
DB --> Service: 성공
Service --> Controller: 결과
Controller --> Frontend: JSON 응답
Frontend --> User: 등록 완료

== 경매 상품 조회 ==
User -> Frontend: 상품 목록 조회
Frontend -> Controller: GET /imageboard/imageboardList
Controller -> Service: imageboardList()
Service -> DB: SELECT 경매 상품 + 이미지
DB --> Service: 상품 목록
Service --> Controller: 상품 목록
Controller --> Frontend: JSON 응답
Frontend --> User: 상품 목록 표시

== 입찰 등록 ==
User -> Frontend: 입찰하기
Frontend -> Frontend: 입찰 금액 검증
Frontend -> Controller: POST /bid/write
Controller -> Service: 경매 정보 조회
Service -> DB: SELECT 경매 정보
DB --> Service: 경매 정보
Controller -> Service: bidWrite()
Service -> Service: 본인 입찰 방지 검증
Service -> DB: SELECT 최고 입찰 금액
DB --> Service: 최고 입찰 금액
Service -> Service: 입찰 금액 검증
Service -> DB: INSERT 입찰 정보
Service -> DB: UPDATE 최고 입찰가
DB --> Service: 성공
Service --> Controller: 결과
Controller --> Frontend: JSON 응답
Frontend --> User: 입찰 완료

== 입찰 내역 조회 ==
User -> Frontend: 입찰 내역 조회
Frontend -> Controller: GET /bid/list
Controller -> Service: bidList()
Service -> DB: SELECT 입찰 내역
DB --> Service: 입찰 내역
Service --> Controller: 입찰 내역
Controller --> Frontend: JSON 응답
Frontend --> User: 입찰 내역 표시

@enduml
