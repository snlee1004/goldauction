@startuml 상태_다이어그램_경매_상품_상태
!theme plain
skinparam defaultFontName "Malgun Gothic"
skinparam state {
    BackgroundColor LightGreen
    BorderColor DarkGreen
    FontSize 12
}

[*] --> 등록대기 : 상품 등록

등록대기 --> 진행중 : 경매 시작\n(등록 후 1분 경과)

진행중 --> 판매완료 : 즉시 구매\n또는\n최고 입찰자 낙찰
진행중 --> 종료 : 경매 기간 종료\n(입찰 있음)
진행중 --> 포기 : 판매자 포기\n또는\n관리자 중지

종료 --> 판매완료 : 낙찰 확정
종료 --> [*] : 경매 종료\n(입찰 없음)

판매완료 --> [*] : 거래 완료

포기 --> 진행중 : 판매 재개\n(관리자만 가능)
포기 --> [*] : 영구 삭제

note right of 등록대기
  - 등록 직후 1분 보호
  - 상태 체크 건너뛰기
  - 입찰 불가
end note

note right of 진행중
  - 입찰 가능
  - 입찰 내역 조회 가능
  - 상품 정보 수정 가능
  - 실시간 최고 입찰가 업데이트
  - 경매 종료일 체크
end note

note right of 판매완료
  - 입찰 불가
  - 거래 완료 상태
  - 수정/삭제 불가
  - 거래 정보 확인 가능
end note

note right of 종료
  - 입찰 불가
  - 경매 종료 상태
  - 수정/삭제 불가
  - 입찰 내역 조회 가능
  - 낙찰 확정 대기
end note

note right of 포기
  - 입찰 불가
  - 판매 중지 상태
  - 관리자만 재개 가능
  - 판매자 본인도 재개 불가
end note

@enduml
