# 게시판 관리자 모드 Database Schema (Oracle DB)

## 📋 개요
게시판 관리자 모드 시스템의 Oracle 데이터베이스 테이블 구조, SQL 쿼리, 샘플 데이터 및 필드 매핑 문서입니다.

---

## 📊 테이블 목록

1. **BOARD1** - 게시판 테이블
2. **BOARD_POST1** - 게시글 테이블
3. **BOARD_COMMENT1** - 댓글 테이블
4. **BOARD_POST_FILE1** - 게시글 첨부파일 테이블
5. **EVENT_PRODUCT1** - 공구이벤트 상품 테이블
6. **EVENT_PRODUCT_IMAGE1** - 공구이벤트 상품 이미지 테이블
7. **EVENT_PRODUCT_OPTION1** - 공구이벤트 상품 옵션 테이블
8. **PROFANITY_FILTER1** - 비속어 필터 테이블
9. **BOARD_NOTICE_SETTING1** - 게시판별 공지사항 설정 테이블

---

## 1. 게시판 테이블 (BOARD1)

### 테이블 생성
```sql
-- 시퀀스 생성
CREATE SEQUENCE SEQ_BOARD1
START WITH 1
INCREMENT BY 1
NOCACHE
NOCYCLE;

-- 게시판 테이블 생성
CREATE TABLE BOARD1 (
    BOARD_SEQ NUMBER PRIMARY KEY,              -- 게시판 번호 (PK, 시퀀스)
    BOARD_NAME VARCHAR2(200) NOT NULL,          -- 게시판명
    BOARD_DESCRIPTION VARCHAR2(500),            -- 게시판 설명
    BOARD_TYPE VARCHAR2(20) NOT NULL,          -- 게시판 타입 (일반/공구이벤트)
    BOARD_CATEGORY VARCHAR2(50),                -- 게시판 카테고리 (선택사항)
    IS_ACTIVE VARCHAR2(1) DEFAULT 'Y',         -- 활성화 여부 (Y: 활성, N: 비활성)
    DISPLAY_ORDER NUMBER DEFAULT 0,             -- 표시 순서
    NOTICE_DISPLAY_COUNT NUMBER DEFAULT 5,      -- 상단 노출 공지사항 개수 (기본값: 5)
    CREATED_DATE DATE DEFAULT SYSDATE,          -- 생성일
    UPDATED_DATE DATE                           -- 수정일
);

-- 인덱스 생성
CREATE INDEX IDX_BOARD1_SEQ ON BOARD1(BOARD_SEQ);
CREATE INDEX IDX_BOARD1_TYPE ON BOARD1(BOARD_TYPE);
CREATE INDEX IDX_BOARD1_ACTIVE ON BOARD1(IS_ACTIVE);
CREATE INDEX IDX_BOARD1_ORDER ON BOARD1(DISPLAY_ORDER);
```

### 샘플 데이터 삽입
```sql
-- 일반 게시판 샘플 데이터
INSERT INTO BOARD1 (BOARD_SEQ, BOARD_NAME, BOARD_DESCRIPTION, BOARD_TYPE, BOARD_CATEGORY, IS_ACTIVE, DISPLAY_ORDER, NOTICE_DISPLAY_COUNT, CREATED_DATE)
VALUES (SEQ_BOARD1.NEXTVAL, '자유게시판', '자유롭게 글을 작성할 수 있는 게시판입니다.', '일반', '커뮤니티', 'Y', 1, 5, SYSDATE);

INSERT INTO BOARD1 (BOARD_SEQ, BOARD_NAME, BOARD_DESCRIPTION, BOARD_TYPE, BOARD_CATEGORY, IS_ACTIVE, DISPLAY_ORDER, NOTICE_DISPLAY_COUNT, CREATED_DATE)
VALUES (SEQ_BOARD1.NEXTVAL, '질문게시판', '질문과 답변을 주고받는 게시판입니다.', '일반', '커뮤니티', 'Y', 2, 3, SYSDATE);

-- 공구이벤트 게시판 샘플 데이터
INSERT INTO BOARD1 (BOARD_SEQ, BOARD_NAME, BOARD_DESCRIPTION, BOARD_TYPE, BOARD_CATEGORY, IS_ACTIVE, DISPLAY_ORDER, NOTICE_DISPLAY_COUNT, CREATED_DATE)
VALUES (SEQ_BOARD1.NEXTVAL, '골드 특가 이벤트', '골드 상품 특가 판매 이벤트 게시판입니다.', '공구이벤트', '이벤트', 'Y', 3, 3, SYSDATE);
```

---

## 2. 게시글 테이블 (BOARD_POST1)

### 테이블 생성
```sql
-- 시퀀스 생성
CREATE SEQUENCE SEQ_BOARD_POST1
START WITH 1
INCREMENT BY 1
NOCACHE
NOCYCLE;

-- 게시글 테이블 생성
CREATE TABLE BOARD_POST1 (
    POST_SEQ NUMBER PRIMARY KEY,                -- 게시글 번호 (PK, 시퀀스)
    BOARD_SEQ NUMBER NOT NULL,                  -- 게시판 번호 (FK -> BOARD1.BOARD_SEQ)
    MEMBER_ID VARCHAR2(50) NOT NULL,           -- 작성자 ID (FK -> MEMBER1.ID)
    POST_TITLE VARCHAR2(200) NOT NULL,          -- 제목
    POST_CONTENT CLOB,                          -- 내용
    IS_NOTICE VARCHAR2(1) DEFAULT 'N',         -- 공지사항 여부 (Y: 공지사항, N: 일반)
    NOTICE_ORDER NUMBER DEFAULT 0,              -- 공지사항 순서 (0: 일반 게시글)
    VIEW_COUNT NUMBER DEFAULT 0,                -- 조회수
    LIKE_COUNT NUMBER DEFAULT 0,                -- 좋아요 수 (선택사항)
    IS_HIDDEN VARCHAR2(1) DEFAULT 'N',         -- 숨김 여부 (Y: 숨김, N: 표시)
    IS_DELETED VARCHAR2(1) DEFAULT 'N',        -- 삭제 여부 (Y: 삭제, N: 정상)
    CREATED_DATE DATE DEFAULT SYSDATE,          -- 작성일
    UPDATED_DATE DATE,                          -- 수정일
    CONSTRAINT FK_BOARD_POST1_BOARD1 FOREIGN KEY (BOARD_SEQ) REFERENCES BOARD1(BOARD_SEQ) ON DELETE CASCADE,
    CONSTRAINT FK_BOARD_POST1_MEMBER1 FOREIGN KEY (MEMBER_ID) REFERENCES MEMBER1(ID)
);

-- 인덱스 생성
CREATE INDEX IDX_BOARD_POST1_SEQ ON BOARD_POST1(POST_SEQ);
CREATE INDEX IDX_BOARD_POST1_BOARD ON BOARD_POST1(BOARD_SEQ);
CREATE INDEX IDX_BOARD_POST1_MEMBER ON BOARD_POST1(MEMBER_ID);
CREATE INDEX IDX_BOARD_POST1_NOTICE ON BOARD_POST1(BOARD_SEQ, IS_NOTICE, NOTICE_ORDER);
CREATE INDEX IDX_BOARD_POST1_CREATED ON BOARD_POST1(BOARD_SEQ, CREATED_DATE DESC);
CREATE INDEX IDX_BOARD_POST1_VIEW ON BOARD_POST1(BOARD_SEQ, VIEW_COUNT DESC);
```

### 샘플 데이터 삽입
```sql
-- 일반 게시글 샘플 데이터
INSERT INTO BOARD_POST1 (POST_SEQ, BOARD_SEQ, MEMBER_ID, POST_TITLE, POST_CONTENT, IS_NOTICE, NOTICE_ORDER, VIEW_COUNT, CREATED_DATE)
VALUES (SEQ_BOARD_POST1.NEXTVAL, 1, 'hong123', '안녕하세요 첫 글입니다', '게시판에 처음 글을 올립니다.', 'N', 0, 10, SYSDATE);

-- 공지사항 샘플 데이터
INSERT INTO BOARD_POST1 (POST_SEQ, BOARD_SEQ, MEMBER_ID, POST_TITLE, POST_CONTENT, IS_NOTICE, NOTICE_ORDER, VIEW_COUNT, CREATED_DATE)
VALUES (SEQ_BOARD_POST1.NEXTVAL, 1, 'admin', '공지사항입니다', '중요한 공지사항 내용입니다.', 'Y', 1, 50, SYSDATE);
```

---

## 3. 댓글 테이블 (BOARD_COMMENT1)

### 테이블 생성
```sql
-- 시퀀스 생성
CREATE SEQUENCE SEQ_BOARD_COMMENT1
START WITH 1
INCREMENT BY 1
NOCACHE
NOCYCLE;

-- 댓글 테이블 생성
CREATE TABLE BOARD_COMMENT1 (
    COMMENT_SEQ NUMBER PRIMARY KEY,             -- 댓글 번호 (PK, 시퀀스)
    POST_SEQ NUMBER NOT NULL,                   -- 게시글 번호 (FK -> BOARD_POST1.POST_SEQ)
    MEMBER_ID VARCHAR2(50) NOT NULL,            -- 작성자 ID (FK -> MEMBER1.ID)
    COMMENT_CONTENT CLOB NOT NULL,              -- 댓글 내용
    PARENT_COMMENT_SEQ NUMBER,                  -- 부모 댓글 번호 (대댓글용, NULL: 일반 댓글)
    IS_HIDDEN VARCHAR2(1) DEFAULT 'N',         -- 숨김 여부 (Y: 숨김, N: 표시)
    IS_DELETED VARCHAR2(1) DEFAULT 'N',        -- 삭제 여부 (Y: 삭제, N: 정상)
    CREATED_DATE DATE DEFAULT SYSDATE,          -- 작성일
    UPDATED_DATE DATE,                          -- 수정일
    CONSTRAINT FK_BOARD_COMMENT1_POST FOREIGN KEY (POST_SEQ) REFERENCES BOARD_POST1(POST_SEQ) ON DELETE CASCADE,
    CONSTRAINT FK_BOARD_COMMENT1_MEMBER FOREIGN KEY (MEMBER_ID) REFERENCES MEMBER1(ID),
    CONSTRAINT FK_BOARD_COMMENT1_PARENT FOREIGN KEY (PARENT_COMMENT_SEQ) REFERENCES BOARD_COMMENT1(COMMENT_SEQ)
);

-- 인덱스 생성
CREATE INDEX IDX_BOARD_COMMENT1_SEQ ON BOARD_COMMENT1(COMMENT_SEQ);
CREATE INDEX IDX_BOARD_COMMENT1_POST ON BOARD_COMMENT1(POST_SEQ);
CREATE INDEX IDX_BOARD_COMMENT1_MEMBER ON BOARD_COMMENT1(MEMBER_ID);
CREATE INDEX IDX_BOARD_COMMENT1_PARENT ON BOARD_COMMENT1(PARENT_COMMENT_SEQ);
CREATE INDEX IDX_BOARD_COMMENT1_CREATED ON BOARD_COMMENT1(POST_SEQ, CREATED_DATE);
```

### 샘플 데이터 삽입
```sql
-- 댓글 샘플 데이터
INSERT INTO BOARD_COMMENT1 (COMMENT_SEQ, POST_SEQ, MEMBER_ID, COMMENT_CONTENT, PARENT_COMMENT_SEQ, CREATED_DATE)
VALUES (SEQ_BOARD_COMMENT1.NEXTVAL, 1, 'kim456', '좋은 글 감사합니다!', NULL, SYSDATE);

-- 대댓글 샘플 데이터
INSERT INTO BOARD_COMMENT1 (COMMENT_SEQ, POST_SEQ, MEMBER_ID, COMMENT_CONTENT, PARENT_COMMENT_SEQ, CREATED_DATE)
VALUES (SEQ_BOARD_COMMENT1.NEXTVAL, 1, 'hong123', '감사합니다!', 1, SYSDATE);
```

---

## 4. 게시글 첨부파일 테이블 (BOARD_POST_FILE1)

### 테이블 생성
```sql
-- 시퀀스 생성
CREATE SEQUENCE SEQ_BOARD_POST_FILE1
START WITH 1
INCREMENT BY 1
NOCACHE
NOCYCLE;

-- 게시글 첨부파일 테이블 생성
CREATE TABLE BOARD_POST_FILE1 (
    FILE_SEQ NUMBER PRIMARY KEY,                -- 파일 번호 (PK, 시퀀스)
    POST_SEQ NUMBER NOT NULL,                    -- 게시글 번호 (FK -> BOARD_POST1.POST_SEQ)
    FILE_NAME VARCHAR2(200) NOT NULL,            -- 원본 파일명
    FILE_PATH VARCHAR2(500) NOT NULL,            -- 파일 저장 경로
    FILE_SIZE NUMBER,                           -- 파일 크기 (바이트)
    FILE_TYPE VARCHAR2(50),                      -- 파일 타입 (이미지, 문서 등)
    FILE_ORDER NUMBER DEFAULT 1,                -- 파일 순서
    UPLOAD_DATE DATE DEFAULT SYSDATE,           -- 업로드 일시
    CONSTRAINT FK_BOARD_POST_FILE1_POST FOREIGN KEY (POST_SEQ) REFERENCES BOARD_POST1(POST_SEQ) ON DELETE CASCADE
);

-- 인덱스 생성
CREATE INDEX IDX_BOARD_POST_FILE1_SEQ ON BOARD_POST_FILE1(FILE_SEQ);
CREATE INDEX IDX_BOARD_POST_FILE1_POST ON BOARD_POST_FILE1(POST_SEQ);
CREATE INDEX IDX_BOARD_POST_FILE1_ORDER ON BOARD_POST_FILE1(POST_SEQ, FILE_ORDER);
```

### 샘플 데이터 삽입
```sql
-- 첨부파일 샘플 데이터
INSERT INTO BOARD_POST_FILE1 (FILE_SEQ, POST_SEQ, FILE_NAME, FILE_PATH, FILE_SIZE, FILE_TYPE, FILE_ORDER, UPLOAD_DATE)
VALUES (SEQ_BOARD_POST_FILE1.NEXTVAL, 1, 'image1.jpg', '/storage/board/post/image1.jpg', 102400, '이미지', 1, SYSDATE);
```

---

## 5. 공구이벤트 상품 테이블 (EVENT_PRODUCT1)

### 테이블 생성
```sql
-- 시퀀스 생성
CREATE SEQUENCE SEQ_EVENT_PRODUCT1
START WITH 1
INCREMENT BY 1
NOCACHE
NOCYCLE;

-- 공구이벤트 상품 테이블 생성
CREATE TABLE EVENT_PRODUCT1 (
    PRODUCT_SEQ NUMBER PRIMARY KEY,             -- 상품 번호 (PK, 시퀀스)
    BOARD_SEQ NUMBER NOT NULL,                  -- 게시판 번호 (FK -> BOARD1.BOARD_SEQ)
    PRODUCT_NAME VARCHAR2(200) NOT NULL,        -- 상품명
    PRODUCT_DESCRIPTION CLOB,                   -- 상품 설명
    ORIGINAL_PRICE NUMBER DEFAULT 0,            -- 정가
    SALE_PRICE NUMBER DEFAULT 0,                -- 할인가
    STOCK_QUANTITY NUMBER DEFAULT 0,            -- 재고 수량
    SOLD_QUANTITY NUMBER DEFAULT 0,             -- 판매 수량
    END_DATE DATE,                              -- 종료일시
    EVENT_STATUS VARCHAR2(20) DEFAULT '진행중', -- 이벤트 상태 (진행중/마감/종료)
    DELIVERY_INFO VARCHAR2(500),                 -- 배송 정보
    IS_DELETED VARCHAR2(1) DEFAULT 'N',        -- 삭제 여부 (Y: 삭제, N: 정상)
    CREATED_DATE DATE DEFAULT SYSDATE,          -- 생성일
    UPDATED_DATE DATE,                          -- 수정일
    CONSTRAINT FK_EVENT_PRODUCT1_BOARD FOREIGN KEY (BOARD_SEQ) REFERENCES BOARD1(BOARD_SEQ) ON DELETE CASCADE
);

-- 인덱스 생성
CREATE INDEX IDX_EVENT_PRODUCT1_SEQ ON EVENT_PRODUCT1(PRODUCT_SEQ);
CREATE INDEX IDX_EVENT_PRODUCT1_BOARD ON EVENT_PRODUCT1(BOARD_SEQ);
CREATE INDEX IDX_EVENT_PRODUCT1_STATUS ON EVENT_PRODUCT1(EVENT_STATUS);
CREATE INDEX IDX_EVENT_PRODUCT1_END_DATE ON EVENT_PRODUCT1(END_DATE);
```

### 샘플 데이터 삽입
```sql
-- 공구이벤트 상품 샘플 데이터
INSERT INTO EVENT_PRODUCT1 (PRODUCT_SEQ, BOARD_SEQ, PRODUCT_NAME, PRODUCT_DESCRIPTION, ORIGINAL_PRICE, SALE_PRICE, STOCK_QUANTITY, END_DATE, EVENT_STATUS, DELIVERY_INFO, CREATED_DATE)
VALUES (SEQ_EVENT_PRODUCT1.NEXTVAL, 3, '골드바 10g 특가', '고순도 99.9% 골드바 특가 판매', 1200000, 980000, 50, SYSDATE + 7, '진행중', '택배 배송 (3-5일 소요)', SYSDATE);
```

---

## 6. 공구이벤트 상품 이미지 테이블 (EVENT_PRODUCT_IMAGE1)

### 테이블 생성
```sql
-- 시퀀스 생성
CREATE SEQUENCE SEQ_EVENT_PRODUCT_IMAGE1
START WITH 1
INCREMENT BY 1
NOCACHE
NOCYCLE;

-- 공구이벤트 상품 이미지 테이블 생성
CREATE TABLE EVENT_PRODUCT_IMAGE1 (
    IMAGE_SEQ NUMBER PRIMARY KEY,               -- 이미지 번호 (PK, 시퀀스)
    PRODUCT_SEQ NUMBER NOT NULL,                -- 상품 번호 (FK -> EVENT_PRODUCT1.PRODUCT_SEQ)
    IMAGE_PATH VARCHAR2(500) NOT NULL,          -- 이미지 파일 경로
    IMAGE_ORDER NUMBER DEFAULT 1,               -- 이미지 순서 (1: 대표이미지)
    UPLOAD_DATE DATE DEFAULT SYSDATE,           -- 업로드 일시
    CONSTRAINT FK_EVENT_PRODUCT_IMAGE1_PRODUCT FOREIGN KEY (PRODUCT_SEQ) REFERENCES EVENT_PRODUCT1(PRODUCT_SEQ) ON DELETE CASCADE
);

-- 인덱스 생성
CREATE INDEX IDX_EVENT_PRODUCT_IMAGE1_SEQ ON EVENT_PRODUCT_IMAGE1(IMAGE_SEQ);
CREATE INDEX IDX_EVENT_PRODUCT_IMAGE1_PRODUCT ON EVENT_PRODUCT_IMAGE1(PRODUCT_SEQ);
CREATE INDEX IDX_EVENT_PRODUCT_IMAGE1_ORDER ON EVENT_PRODUCT_IMAGE1(PRODUCT_SEQ, IMAGE_ORDER);
```

### 샘플 데이터 삽입
```sql
-- 상품 이미지 샘플 데이터
INSERT INTO EVENT_PRODUCT_IMAGE1 (IMAGE_SEQ, PRODUCT_SEQ, IMAGE_PATH, IMAGE_ORDER, UPLOAD_DATE)
VALUES (SEQ_EVENT_PRODUCT_IMAGE1.NEXTVAL, 1, '/storage/event/product/goldbar1.jpg', 1, SYSDATE);

INSERT INTO EVENT_PRODUCT_IMAGE1 (IMAGE_SEQ, PRODUCT_SEQ, IMAGE_PATH, IMAGE_ORDER, UPLOAD_DATE)
VALUES (SEQ_EVENT_PRODUCT_IMAGE1.NEXTVAL, 1, '/storage/event/product/goldbar2.jpg', 2, SYSDATE);
```

---

## 7. 공구이벤트 상품 옵션 테이블 (EVENT_PRODUCT_OPTION1)

### 테이블 생성
```sql
-- 시퀀스 생성
CREATE SEQUENCE SEQ_EVENT_PRODUCT_OPTION1
START WITH 1
INCREMENT BY 1
NOCACHE
NOCYCLE;

-- 공구이벤트 상품 옵션 테이블 생성
CREATE TABLE EVENT_PRODUCT_OPTION1 (
    OPTION_SEQ NUMBER PRIMARY KEY,             -- 옵션 번호 (PK, 시퀀스)
    PRODUCT_SEQ NUMBER NOT NULL,                -- 상품 번호 (FK -> EVENT_PRODUCT1.PRODUCT_SEQ)
    OPTION_NAME VARCHAR2(100) NOT NULL,        -- 옵션명 (예: 색상, 사이즈)
    OPTION_VALUE VARCHAR2(200) NOT NULL,       -- 옵션값 (예: 빨강, L)
    OPTION_PRICE NUMBER DEFAULT 0,             -- 옵션 추가 가격
    STOCK_QUANTITY NUMBER DEFAULT 0,            -- 옵션별 재고 수량
    CREATED_DATE DATE DEFAULT SYSDATE,          -- 생성일
    CONSTRAINT FK_EVENT_PRODUCT_OPTION1_PRODUCT FOREIGN KEY (PRODUCT_SEQ) REFERENCES EVENT_PRODUCT1(PRODUCT_SEQ) ON DELETE CASCADE
);

-- 인덱스 생성
CREATE INDEX IDX_EVENT_PRODUCT_OPTION1_SEQ ON EVENT_PRODUCT_OPTION1(OPTION_SEQ);
CREATE INDEX IDX_EVENT_PRODUCT_OPTION1_PRODUCT ON EVENT_PRODUCT_OPTION1(PRODUCT_SEQ);
```

### 샘플 데이터 삽입
```sql
-- 상품 옵션 샘플 데이터
INSERT INTO EVENT_PRODUCT_OPTION1 (OPTION_SEQ, PRODUCT_SEQ, OPTION_NAME, OPTION_VALUE, OPTION_PRICE, STOCK_QUANTITY, CREATED_DATE)
VALUES (SEQ_EVENT_PRODUCT_OPTION1.NEXTVAL, 1, '무게', '5g', 0, 20, SYSDATE);

INSERT INTO EVENT_PRODUCT_OPTION1 (OPTION_SEQ, PRODUCT_SEQ, OPTION_NAME, OPTION_VALUE, OPTION_PRICE, STOCK_QUANTITY, CREATED_DATE)
VALUES (SEQ_EVENT_PRODUCT_OPTION1.NEXTVAL, 1, '무게', '10g', 50000, 30, SYSDATE);
```

---

## 8. 비속어 필터 테이블 (PROFANITY_FILTER1)

### 테이블 생성
```sql
-- 시퀀스 생성
CREATE SEQUENCE SEQ_PROFANITY_FILTER1
START WITH 1
INCREMENT BY 1
NOCACHE
NOCYCLE;

-- 비속어 필터 테이블 생성
CREATE TABLE PROFANITY_FILTER1 (
    FILTER_SEQ NUMBER PRIMARY KEY,             -- 필터 번호 (PK, 시퀀스)
    PROFANITY_WORD VARCHAR2(100) NOT NULL,      -- 비속어
    REPLACEMENT_WORD VARCHAR2(100),             -- 대체어 (선택사항, NULL: 작성 불가)
    IS_ACTIVE VARCHAR2(1) DEFAULT 'Y',         -- 활성화 여부 (Y: 활성, N: 비활성)
    FILTER_TYPE VARCHAR2(20) DEFAULT '마스킹', -- 필터 타입 (마스킹/작성불가)
    CREATED_DATE DATE DEFAULT SYSDATE,          -- 생성일
    UPDATED_DATE DATE                           -- 수정일
);

-- 인덱스 생성
CREATE INDEX IDX_PROFANITY_FILTER1_SEQ ON PROFANITY_FILTER1(FILTER_SEQ);
CREATE INDEX IDX_PROFANITY_FILTER1_WORD ON PROFANITY_FILTER1(PROFANITY_WORD);
CREATE INDEX IDX_PROFANITY_FILTER1_ACTIVE ON PROFANITY_FILTER1(IS_ACTIVE);
```

### 샘플 데이터 삽입
```sql
-- 비속어 필터 샘플 데이터
INSERT INTO PROFANITY_FILTER1 (FILTER_SEQ, PROFANITY_WORD, REPLACEMENT_WORD, IS_ACTIVE, FILTER_TYPE, CREATED_DATE)
VALUES (SEQ_PROFANITY_FILTER1.NEXTVAL, '비속어1', '***', 'Y', '마스킹', SYSDATE);

INSERT INTO PROFANITY_FILTER1 (FILTER_SEQ, PROFANITY_WORD, REPLACEMENT_WORD, IS_ACTIVE, FILTER_TYPE, CREATED_DATE)
VALUES (SEQ_PROFANITY_FILTER1.NEXTVAL, '비속어2', NULL, 'Y', '작성불가', SYSDATE);
```

---

## 9. 게시판별 공지사항 설정 테이블 (BOARD_NOTICE_SETTING1)

### 테이블 생성
```sql
-- 게시판별 공지사항 설정 테이블 생성
CREATE TABLE BOARD_NOTICE_SETTING1 (
    BOARD_SEQ NUMBER PRIMARY KEY,              -- 게시판 번호 (PK, FK -> BOARD1.BOARD_SEQ)
    NOTICE_DISPLAY_COUNT NUMBER DEFAULT 5,      -- 상단 노출 공지사항 개수
    UPDATED_DATE DATE DEFAULT SYSDATE,          -- 수정일
    CONSTRAINT FK_BOARD_NOTICE_SETTING1_BOARD FOREIGN KEY (BOARD_SEQ) REFERENCES BOARD1(BOARD_SEQ) ON DELETE CASCADE
);

-- 인덱스 생성
CREATE INDEX IDX_BOARD_NOTICE_SETTING1_BOARD ON BOARD_NOTICE_SETTING1(BOARD_SEQ);
```

### 샘플 데이터 삽입
```sql
-- 공지사항 설정 샘플 데이터
INSERT INTO BOARD_NOTICE_SETTING1 (BOARD_SEQ, NOTICE_DISPLAY_COUNT, UPDATED_DATE)
VALUES (1, 5, SYSDATE);

INSERT INTO BOARD_NOTICE_SETTING1 (BOARD_SEQ, NOTICE_DISPLAY_COUNT, UPDATED_DATE)
VALUES (2, 3, SYSDATE);
```

---

## 📝 주요 쿼리 예제

### 게시판 관련 쿼리

```sql
-- 게시판 생성
INSERT INTO BOARD1 (BOARD_SEQ, BOARD_NAME, BOARD_DESCRIPTION, BOARD_TYPE, BOARD_CATEGORY, IS_ACTIVE, DISPLAY_ORDER, NOTICE_DISPLAY_COUNT, CREATED_DATE)
VALUES (SEQ_BOARD1.NEXTVAL, ?, ?, ?, ?, 'Y', ?, 5, SYSDATE);

-- 게시판 목록 조회 (활성화된 게시판만)
SELECT * FROM BOARD1 
WHERE IS_ACTIVE = 'Y' 
ORDER BY DISPLAY_ORDER, BOARD_SEQ;

-- 게시판 수정
UPDATE BOARD1 
SET BOARD_NAME = ?, BOARD_DESCRIPTION = ?, BOARD_CATEGORY = ?, DISPLAY_ORDER = ?, UPDATED_DATE = SYSDATE
WHERE BOARD_SEQ = ?;

-- 게시판 삭제 (비활성화)
UPDATE BOARD1 
SET IS_ACTIVE = 'N', UPDATED_DATE = SYSDATE
WHERE BOARD_SEQ = ?;
```

### 게시글 관련 쿼리

```sql
-- 게시글 등록
INSERT INTO BOARD_POST1 (POST_SEQ, BOARD_SEQ, MEMBER_ID, POST_TITLE, POST_CONTENT, IS_NOTICE, NOTICE_ORDER, CREATED_DATE)
VALUES (SEQ_BOARD_POST1.NEXTVAL, ?, ?, ?, ?, 'N', 0, SYSDATE);

-- 공지사항 등록
INSERT INTO BOARD_POST1 (POST_SEQ, BOARD_SEQ, MEMBER_ID, POST_TITLE, POST_CONTENT, IS_NOTICE, NOTICE_ORDER, CREATED_DATE)
VALUES (SEQ_BOARD_POST1.NEXTVAL, ?, ?, ?, ?, 'Y', 
        (SELECT NVL(MAX(NOTICE_ORDER), 0) + 1 FROM BOARD_POST1 WHERE BOARD_SEQ = ? AND IS_NOTICE = 'Y'), 
        SYSDATE);

-- 게시글 목록 조회 (페이징, 공지사항 상단 고정)
SELECT * FROM (
    SELECT ROWNUM RN, A.* FROM (
        -- 공지사항 먼저 조회
        SELECT * FROM BOARD_POST1 
        WHERE BOARD_SEQ = ? AND IS_NOTICE = 'Y' AND IS_DELETED = 'N' AND IS_HIDDEN = 'N'
        ORDER BY NOTICE_ORDER
        UNION ALL
        -- 일반 게시글 조회
        SELECT * FROM BOARD_POST1 
        WHERE BOARD_SEQ = ? AND IS_NOTICE = 'N' AND IS_DELETED = 'N' AND IS_HIDDEN = 'N'
        ORDER BY CREATED_DATE DESC
    ) A
) WHERE RN BETWEEN ? AND ?;

-- 게시판별 공지사항 목록 조회 (상단 노출)
SELECT * FROM (
    SELECT * FROM BOARD_POST1 
    WHERE BOARD_SEQ = ? AND IS_NOTICE = 'Y' AND IS_DELETED = 'N' AND IS_HIDDEN = 'N'
    ORDER BY NOTICE_ORDER
) WHERE ROWNUM <= (SELECT NOTICE_DISPLAY_COUNT FROM BOARD_NOTICE_SETTING1 WHERE BOARD_SEQ = ?);

-- 게시글 검색 (제목, 내용)
SELECT * FROM (
    SELECT ROWNUM RN, A.* FROM (
        SELECT * FROM BOARD_POST1 
        WHERE BOARD_SEQ = ? 
        AND (POST_TITLE LIKE '%' || ? || '%' OR POST_CONTENT LIKE '%' || ? || '%')
        AND IS_DELETED = 'N' AND IS_HIDDEN = 'N'
        ORDER BY CREATED_DATE DESC
    ) A
) WHERE RN BETWEEN ? AND ?;

-- 게시글 상세 조회
SELECT * FROM BOARD_POST1 WHERE POST_SEQ = ? AND IS_DELETED = 'N';

-- 게시글 조회수 증가
UPDATE BOARD_POST1 
SET VIEW_COUNT = VIEW_COUNT + 1
WHERE POST_SEQ = ?;

-- 게시글 수정
UPDATE BOARD_POST1 
SET POST_TITLE = ?, POST_CONTENT = ?, UPDATED_DATE = SYSDATE
WHERE POST_SEQ = ? AND MEMBER_ID = ?;

-- 게시글 삭제
UPDATE BOARD_POST1 
SET IS_DELETED = 'Y', UPDATED_DATE = SYSDATE
WHERE POST_SEQ = ?;

-- 게시글 공지사항으로 전환
UPDATE BOARD_POST1 
SET IS_NOTICE = 'Y', 
    NOTICE_ORDER = (SELECT NVL(MAX(NOTICE_ORDER), 0) + 1 FROM BOARD_POST1 WHERE BOARD_SEQ = ? AND IS_NOTICE = 'Y'),
    UPDATED_DATE = SYSDATE
WHERE POST_SEQ = ?;
```

### 댓글 관련 쿼리

```sql
-- 댓글 등록
INSERT INTO BOARD_COMMENT1 (COMMENT_SEQ, POST_SEQ, MEMBER_ID, COMMENT_CONTENT, PARENT_COMMENT_SEQ, CREATED_DATE)
VALUES (SEQ_BOARD_COMMENT1.NEXTVAL, ?, ?, ?, ?, SYSDATE);

-- 게시글별 댓글 목록 조회 (대댓글 포함)
SELECT * FROM BOARD_COMMENT1 
WHERE POST_SEQ = ? AND IS_DELETED = 'N' AND IS_HIDDEN = 'N'
ORDER BY CREATED_DATE;

-- 댓글 수정
UPDATE BOARD_COMMENT1 
SET COMMENT_CONTENT = ?, UPDATED_DATE = SYSDATE
WHERE COMMENT_SEQ = ? AND MEMBER_ID = ?;

-- 댓글 삭제
UPDATE BOARD_COMMENT1 
SET IS_DELETED = 'Y', UPDATED_DATE = SYSDATE
WHERE COMMENT_SEQ = ?;

-- 게시글별 댓글 수 조회
SELECT COUNT(*) AS COMMENT_COUNT 
FROM BOARD_COMMENT1 
WHERE POST_SEQ = ? AND IS_DELETED = 'N' AND IS_HIDDEN = 'N';
```

### 공구이벤트 상품 관련 쿼리

```sql
-- 공구이벤트 상품 등록
INSERT INTO EVENT_PRODUCT1 (PRODUCT_SEQ, BOARD_SEQ, PRODUCT_NAME, PRODUCT_DESCRIPTION, ORIGINAL_PRICE, SALE_PRICE, STOCK_QUANTITY, END_DATE, EVENT_STATUS, DELIVERY_INFO, CREATED_DATE)
VALUES (SEQ_EVENT_PRODUCT1.NEXTVAL, ?, ?, ?, ?, ?, ?, ?, '진행중', ?, SYSDATE);

-- 게시판별 상품 목록 조회
SELECT * FROM EVENT_PRODUCT1 
WHERE BOARD_SEQ = ? AND IS_DELETED = 'N'
ORDER BY CREATED_DATE DESC;

-- 진행중인 이벤트 상품 조회
SELECT * FROM EVENT_PRODUCT1 
WHERE BOARD_SEQ = ? AND EVENT_STATUS = '진행중' AND IS_DELETED = 'N'
ORDER BY CREATED_DATE DESC;

-- 이벤트 상태 자동 업데이트 (종료일 도달 또는 재고 소진)
UPDATE EVENT_PRODUCT1 
SET EVENT_STATUS = '마감', UPDATED_DATE = SYSDATE
WHERE EVENT_STATUS = '진행중' 
AND (END_DATE < SYSDATE OR STOCK_QUANTITY <= 0);

-- 재고 차감 (주문 시)
UPDATE EVENT_PRODUCT1 
SET STOCK_QUANTITY = STOCK_QUANTITY - ?,
    SOLD_QUANTITY = SOLD_QUANTITY + ?,
    UPDATED_DATE = SYSDATE
WHERE PRODUCT_SEQ = ? AND STOCK_QUANTITY >= ?;
```

### 비속어 필터 관련 쿼리

```sql
-- 비속어 필터 등록
INSERT INTO PROFANITY_FILTER1 (FILTER_SEQ, PROFANITY_WORD, REPLACEMENT_WORD, IS_ACTIVE, FILTER_TYPE, CREATED_DATE)
VALUES (SEQ_PROFANITY_FILTER1.NEXTVAL, ?, ?, 'Y', ?, SYSDATE);

-- 활성화된 비속어 목록 조회
SELECT * FROM PROFANITY_FILTER1 
WHERE IS_ACTIVE = 'Y'
ORDER BY PROFANITY_WORD;

-- 비속어 검사 (게시글 제목/내용)
SELECT COUNT(*) AS PROFANITY_COUNT
FROM PROFANITY_FILTER1
WHERE IS_ACTIVE = 'Y'
AND (UPPER(?) LIKE '%' || UPPER(PROFANITY_WORD) || '%');
```

### 통계 쿼리

```sql
-- 게시판별 게시글 수
SELECT BOARD_SEQ, COUNT(*) AS POST_COUNT 
FROM BOARD_POST1 
WHERE IS_DELETED = 'N' AND IS_HIDDEN = 'N'
GROUP BY BOARD_SEQ;

-- 게시판별 댓글 수
SELECT B.BOARD_SEQ, COUNT(C.COMMENT_SEQ) AS COMMENT_COUNT
FROM BOARD1 B
LEFT JOIN BOARD_POST1 P ON B.BOARD_SEQ = P.BOARD_SEQ
LEFT JOIN BOARD_COMMENT1 C ON P.POST_SEQ = C.POST_SEQ AND C.IS_DELETED = 'N'
GROUP BY B.BOARD_SEQ;

-- 회원별 게시글 수
SELECT MEMBER_ID, COUNT(*) AS POST_COUNT 
FROM BOARD_POST1 
WHERE IS_DELETED = 'N'
GROUP BY MEMBER_ID;

-- 공구이벤트 상품별 판매 통계
SELECT 
    PRODUCT_SEQ,
    PRODUCT_NAME,
    SOLD_QUANTITY,
    SALE_PRICE,
    (SOLD_QUANTITY * SALE_PRICE) AS TOTAL_SALES
FROM EVENT_PRODUCT1
WHERE IS_DELETED = 'N'
ORDER BY TOTAL_SALES DESC;
```

---

## 🔧 트리거 및 뷰

### 트리거 생성 (선택사항)

```sql
-- 공구이벤트 상품 자동 마감 트리거
CREATE OR REPLACE TRIGGER TRG_EVENT_PRODUCT1_AUTO_CLOSE
BEFORE UPDATE ON EVENT_PRODUCT1
FOR EACH ROW
BEGIN
    -- 종료일 도달 또는 재고 소진 시 자동 마감
    IF :NEW.EVENT_STATUS = '진행중' THEN
        IF (:NEW.END_DATE < SYSDATE OR :NEW.STOCK_QUANTITY <= 0) THEN
            :NEW.EVENT_STATUS := '마감';
            :NEW.UPDATED_DATE := SYSDATE;
        END IF;
    END IF;
END;
/
```

### 뷰 생성 (선택사항)

```sql
-- 게시글 상세 정보 뷰 (댓글 수 포함)
CREATE OR REPLACE VIEW V_BOARD_POST1_DETAIL AS
SELECT 
    P.POST_SEQ,
    P.BOARD_SEQ,
    P.MEMBER_ID,
    P.POST_TITLE,
    P.POST_CONTENT,
    P.IS_NOTICE,
    P.NOTICE_ORDER,
    P.VIEW_COUNT,
    P.LIKE_COUNT,
    P.CREATED_DATE,
    P.UPDATED_DATE,
    M.NAME AS WRITER_NAME,
    M.NICKNAME AS WRITER_NICKNAME,
    (SELECT COUNT(*) FROM BOARD_COMMENT1 WHERE POST_SEQ = P.POST_SEQ AND IS_DELETED = 'N') AS COMMENT_COUNT
FROM BOARD_POST1 P
LEFT JOIN MEMBER1 M ON P.MEMBER_ID = M.ID
WHERE P.IS_DELETED = 'N';
```

---

## 🗑️ 테이블 삭제 순서 (주의: 데이터 삭제됨)

```sql
-- 외래키 제약조건 때문에 역순으로 삭제
DROP TABLE BOARD_NOTICE_SETTING1;
DROP TABLE PROFANITY_FILTER1;
DROP TABLE EVENT_PRODUCT_OPTION1;
DROP TABLE EVENT_PRODUCT_IMAGE1;
DROP TABLE EVENT_PRODUCT1;
DROP TABLE BOARD_POST_FILE1;
DROP TABLE BOARD_COMMENT1;
DROP TABLE BOARD_POST1;
DROP TABLE BOARD1;

-- 시퀀스 삭제
DROP SEQUENCE SEQ_BOARD_NOTICE_SETTING1;
DROP SEQUENCE SEQ_PROFANITY_FILTER1;
DROP SEQUENCE SEQ_EVENT_PRODUCT_OPTION1;
DROP SEQUENCE SEQ_EVENT_PRODUCT_IMAGE1;
DROP SEQUENCE SEQ_EVENT_PRODUCT1;
DROP SEQUENCE SEQ_BOARD_POST_FILE1;
DROP SEQUENCE SEQ_BOARD_COMMENT1;
DROP SEQUENCE SEQ_BOARD_POST1;
DROP SEQUENCE SEQ_BOARD1;
```

---

## 🔗 필드 매핑 정리

### 게시판 생성 폼 → BOARD1 테이블
- boardName → BOARD_NAME
- boardDescription → BOARD_DESCRIPTION
- boardType → BOARD_TYPE
- boardCategory → BOARD_CATEGORY
- isActive → IS_ACTIVE
- displayOrder → DISPLAY_ORDER
- noticeDisplayCount → NOTICE_DISPLAY_COUNT

### 게시글 작성 폼 → BOARD_POST1 테이블
- postTitle → POST_TITLE
- postContent → POST_CONTENT
- isNotice → IS_NOTICE
- noticeOrder → NOTICE_ORDER (공지사항인 경우 자동 계산)

### 댓글 작성 폼 → BOARD_COMMENT1 테이블
- commentContent → COMMENT_CONTENT
- parentCommentSeq → PARENT_COMMENT_SEQ (대댓글인 경우)

### 공구이벤트 상품 등록 폼 → EVENT_PRODUCT1 테이블
- productName → PRODUCT_NAME
- productDescription → PRODUCT_DESCRIPTION
- originalPrice → ORIGINAL_PRICE
- salePrice → SALE_PRICE
- stockQuantity → STOCK_QUANTITY
- endDate → END_DATE
- deliveryInfo → DELIVERY_INFO

---

## ⚠️ 주의사항

1. **비밀번호 암호화**: MEMBER1 테이블의 PWD 필드는 해시값을 저장해야 합니다.
2. **파일 저장**: 첨부파일과 이미지는 서버 파일 시스템에 저장하고, DB에는 파일 경로만 저장합니다.
3. **트랜잭션 처리**: 재고 차감 시 동시성 제어가 필요합니다.
4. **인덱스 최적화**: 대용량 데이터 처리를 위해 적절한 인덱스를 생성했습니다.
5. **외래키 제약조건**: 데이터 무결성을 위해 외래키 제약조건을 설정했습니다.
6. **소프트 삭제**: 게시글과 댓글은 실제 삭제하지 않고 IS_DELETED 플래그로 관리합니다.

---

## 📖 참고 문서

- **Board.md**: 게시판 관리자 모드 기능 명세서
- **DB.md**: 골드 경매 시스템 데이터베이스 스키마
- **CODING_GUIDELINES.md**: 프로젝트 코딩 가이드라인

